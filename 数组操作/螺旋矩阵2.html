<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // 给定一个包含 m x n 个元素的矩阵（m 行, n 列），请按照顺时针螺旋顺序，返回矩阵中的所有元素。
    // 输入:
    // [
    // [ 1, 2, 3 ],
    // [ 4, 5, 6 ],
    // [ 7, 8, 9 ]
    // ]
    // 输出: [1,2,3,6,9,8,7,4,5]
    //   输入:
    //   [
    //     [1, 2, 3, 4],
    //     [5, 6, 7, 8],
    //     [9,10,11,12]
    //   ]
    // 输出: [1,2,3,4,8,12,11,10,9,5,6,7]
    /**
     * @param {number[][]} matrix
     * @return {number[]}
     */
    var spiralOrder = function (matrix) {
      if(!matrix || !matrix[0]) return []
      let collection = []
      let i = 0
      let j = 0
      let direction = 'right'
      let boundaryBottom = matrix.length
      let boundaryRight = matrix[0].length
      while(true){
        let temp = matrix[j][i]
        if(collection.length == boundaryBottom * boundaryRight){
          break
        }
        if(collection.indexOf(temp) == -1){
          collection.push(temp)
          if(direction == 'right'){
            i++
          }

          if(direction == 'bottom'){
            j++
          }

          if(direction == 'left'){
            i--
          }

          if(direction == 'top'){
            j--
          }

          if(i == boundaryRight){
            j++
            i--
            direction = 'bottom'
          }

          if(j == boundaryBottom){
            i--
            j--
            direction = 'left'
          }

          if(i == -1){
            j--
            i++
            direction = 'top'
          }

          if(j == -1){
            i++
            j++
            direction = 'right'
          }
        } else {
          if(direction == 'right'){
            j++
            i--
            direction = 'bottom'
            continue
          }

          if(direction == 'bottom'){
            i--
            j--
            direction = 'left'
            continue
          }

          if(direction == 'left'){
            j--
            i++
            direction = 'top'
            continue
          }

          if(direction == 'top'){
            i++
            j++
            direction = 'right'
            continue
          }
        }
      }
      return collection
    }

    var setZeroes = function(matrix) {
     let R = matrix.length;
      let C = matrix[0].length;
      let rows = []
      let cols = []

      // Essentially, we mark the rows and columns that are to be made zero
      for (let i = 0; i < R; i++) {
        for (let j = 0; j < C; j++) {
          if (matrix[i][j] == 0) {
            rows.push(i);
            cols.push(j);
          }
        }
      }

      // Iterate over the array once again and using the rows and cols sets, update the elements.
      for (let i = 0; i < R; i++) {
        for (let j = 0; j < C; j++) {
          if (rows.includes(i) || cols.includes(j)) {
            matrix[i][j] = 0;
          }
        }
      }

      return matrix
};

    let arr = [
      [ 1, 2, 3 ],
      [ 4, 5, 6 ],
      [ 7, 8, 9 ]
    ]

    let arr2 = [
      [1, 2, 3, 4],
      [5, 6, 7, 8],
      [9,10,11,12],
      [13,14,15,16]
    ]
    // arr2
    console.log(spiralOrder(arr2));
  </script>
</body>

</html>