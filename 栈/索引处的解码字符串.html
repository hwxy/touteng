<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 给定一个编码字符串 S。请你找出 解码字符串 并将其写入磁带。解码时，从编码字符串中 每次读取一个字符 ，并采取以下步骤：
    // 如果所读的字符是字母，则将该字母写在磁带上。
    // 如果所读的字符是数字（例如 d），则整个当前磁带总共会被重复写 d-1 次。
    // 现在，对于给定的编码字符串 S 和索引 K，查找并返回解码字符串中的第 K 个字母。
    // 示例 1：

    // 输入：S = "leet2code3", K = 10
    // 输出："o"
    // 解释：
    // 解码后的字符串为 "leetleetcodeleetleetcodeleetleetcode"。
    // 字符串中的第 10 个字母是 "o"。
    // 示例 2：

    // 输入：S = "ha22", K = 5
    // 输出："h"
    // 解释：
    // 解码后的字符串为 "hahahaha"。第 5 个字母是 "h"。
    // 示例 3：

    // 输入：S = "a2345678999999999999999", K = 1
    // 输出："a"
    // 解释：
    // 解码后的字符串为 "a" 重复 8301530446056247680 次。第 1 个字母是 "a"。

    var decodeAtIndex = function(S, K) {
      let arr = S.split('')
      let arrTwo = []
      for(let i = 0; i < arr.length; i++) {
        if(arrTwo.length >= K) {
          break
        }
        let isZiMu = arr[i].charCodeAt() >= 65
        let str = arr[i]
        if(isZiMu){
          arrTwo.push(str)        
        } else {
          let count = str - 1
          let arrThree = arrTwo
          while(count > 0){
            arrTwo = arrTwo.concat(arrThree)
            count--
          } 
        }
      }
      return arrTwo.join('').charAt(K-1)
    };
    
    console.log(decodeAtIndex("leet2code3", 10));
    console.log(decodeAtIndex("ha22", 5));
    console.log(decodeAtIndex("a2345678999999999999999", 1));
  </script>
</body>
</html>