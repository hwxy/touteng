<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <!-- 给你一个仅包含小写字母的字符串，请你去除字符串中重复的字母，使得每个字母只出现一次。需保证返回结果的字典序最小（要求不能打乱其他字符的相对位置）。 -->
  <!-- 输入: "bcabc" 输出: "abc" -->
  <!-- 输入: "cbacdcbc" 输出: "acdb" -->
  <script>
    /**
     * @param {string} s
     * @return {string}
     */
    var removeDuplicateLetters = function (s) {
      if(s.length == 1 || !s) return s
      let stack = [s[0]]
      for(let i = 1; i < s.length; i++){
        if(stack.indexOf(s[i]) != - 1) continue
        let two = s[i]
        let twoAt = two.charCodeAt()
        let j = 0
        let length = stack.length
        let newStr = s.slice(i)
        while(j <= length - 1){
          let one = stack.pop()
          let oneAt = one.charCodeAt()
          if(oneAt > twoAt){
            if(newStr.indexOf(one) == -1){
              stack.push(one)
              break
            }
          } else {
            stack.push(one)
            break
          }
          j++
        }
        stack.push(two)
      }
      return stack.join('')
    };

    let str = "bcabc"
    let str1 = "cbacdcbc"
    console.log(removeDuplicateLetters(str), removeDuplicateLetters(str1));
  </script>
</body>

</html>