<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // 给定一个二叉树，判断它是否是高度平衡的二叉树。
    // 本题中，一棵高度平衡二叉树定义为：
    /**
     * Definition for a binary tree node.
     * function TreeNode(val, left, right) {
     *     this.val = (val===undefined ? 0 : val)
     *     this.left = (left===undefined ? null : left)
     *     this.right = (right===undefined ? null : right)
     * }
     */

     function TreeNode(val, left, right) {
        this.val = (val === undefined ? 0 : val)
        this.left = (left === undefined ? null : left)
        this.right = (right=== undefined ? null : right)
      }
    /**
     * @param {TreeNode} root
     * @return {boolean}
     */
    var isBalanced = function (root) {
        if(!root) return true

        function getNodeHeight(node){
          if(!node) return -1
          return Math.max(getNodeHeight(node.left), getNodeHeight(node.right)) + 1
        }

        if(Math.abs(getNodeHeight(root.left) - getNodeHeight(root.right)) > 1){
          return false
        } else {
          let left = isBalanced(root.left)
          let right = isBalanced(root.right)
          if(left && right) return true
          else return false
        }
    };

    let tree = new TreeNode(1)
    tree.left = new TreeNode(9)
    tree.right = new TreeNode(20)
    tree.right.left = new TreeNode(15)
    tree.right.right = new TreeNode(7)

    let treeTwo = new TreeNode(1)
    treeTwo.left = new TreeNode(2)
    treeTwo.right = new TreeNode(2)
    treeTwo.left.left = new TreeNode(3)
    treeTwo.left.right = new TreeNode(3)
    treeTwo.left.left.left = new TreeNode(4)
    treeTwo.left.left.right = new TreeNode(4)

    console.log(isBalanced(tree), isBalanced(treeTwo));
  </script>
</body>

</html>